
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RDS Fácil - CSS Construtora</title>
  <link rel="manifest" href="manifest.json">
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log('Service Worker registrado:', reg))
          .catch(err => console.log('Service Worker erro:', err));
      });
    }
  </script>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
    .top-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
    .logo { height: 80px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; background: white; }
    th, td { border: 1px solid #000; padding: 8px; text-align: center; }
    th { background-color: #004aad; color: white; }
    input, select { margin: 4px; padding: 6px; }
    label { display: inline-block; margin-right: 10px; }
    .form-section { background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
  </style>
</head>
<body>

<div class="top-bar">
  <img src="logo-css.png" alt="Logo CSS" class="logo">
  <div>
    <label>Data: <input type="date" id="data"></label><br>
    <label>Dia da semana: <input type="text" id="dia_semana" readonly></label>
  </div>
</div>

<h1>Relatório Diário de Serviço - CSS Construtora</h1>

<div class="form-section">
<form id="form-colab">
  <label>Setor: <input type="text" id="setor" required></label><br>
  <label>Nome: <input type="text" id="nome" required></label>
  <label>Código: <input type="text" id="codigo" required></label>
  <label>Matrícula: <input type="text" id="matricula" required></label>
  <label>Função: <input type="text" id="funcao"></label><br>
  <label>Turno:
    <select id="turno">
      <option>Manhã</option>
      <option>Tarde</option>
      <option>Noite</option>
    </select>
  </label>
  <label>Entrada: <input type="time" id="entrada"></label>
  <label>Intervalo: <input type="text" id="intervalo" value="12:00 às 13:00"></label>
  <label>Saída: <input type="time" id="saida"></label><br>
  <label>Local de trabalho: <input type="text" id="local"></label>
  <label>Condições do tempo:
    <select id="tempo">
      <option>Bom</option>
      <option>Chuva</option>
      <option>Impraticável</option>
    </select>
  </label><br>
  <label>Atividade executada: <input type="text" id="atividade"></label>
  <label>Situação do serviço:
    <select id="situacao">
      <option>Em andamento</option>
      <option>Finalizado</option>
      <option>Impraticável</option>
    </select>
  </label>
  <label>Veículo utilizado: <input type="text" id="veiculo"></label><br>
  <label><input type="checkbox" id="assinatura"> Assinatura digital</label>
  <button type="submit">Adicionar</button>
</form>
</div>

<table id="tabela">
  <thead>
    <tr>
      <th>Nome</th><th>Código</th><th>Matrícula</th><th>Função</th>
      <th>Turno</th><th>Entrada</th><th>Intervalo</th><th>Saída</th>
      <th>Local</th><th>Tempo</th><th>Atividade</th><th>Situação</th><th>Veículo</th><th>Assinatura</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
  document.getElementById("form-colab").addEventListener("submit", function(e) {
    e.preventDefault();
    const get = id => document.getElementById(id).value;
    const assinatura = document.getElementById("assinatura").checked ? "✔️" : "";

    const tbody = document.querySelector("#tabela tbody");
    const row = document.createElement("tr");

    row.innerHTML = `<td>${get("nome")}</td><td>${get("codigo")}</td><td>${get("matricula")}</td>
                     <td>${get("funcao")}</td><td>${get("turno")}</td><td>${get("entrada")}</td>
                     <td>${get("intervalo")}</td><td>${get("saida")}</td><td>${get("local")}</td>
                     <td>${get("tempo")}</td><td>${get("atividade")}</td><td>${get("situacao")}</td>
                     <td>${get("veiculo")}</td><td>${assinatura}</td>`;
    tbody.appendChild(row);
    this.reset();
  });

  document.getElementById("data").addEventListener("change", function() {
    const dias = ["Domingo", "Segunda-feira", "Terça-feira", "Quarta-feira", "Quinta-feira", "Sexta-feira", "Sábado"];
    const data = new Date(this.value);
    document.getElementById("dia_semana").value = dias[data.getDay()];
  });
</script>

</body>
</html>
